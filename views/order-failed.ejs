<%- include('partials/header') %>
<%- include('partials/navbar') %>

<style>
    .order-status-container {
        max-width: 600px;
        margin: 3rem auto;
        text-align: center;
    }
    .order-status-icon {
        font-size: 5rem;
        margin-bottom: 1.5rem;
        color: var(--error-red);
    }
    .order-details-summary {
        background-color: var(--bg-dark-tertiary);
        padding: 1rem;
        border-radius: 8px;
        text-align: left;
        margin-top: 1.5rem;
        font-size: 0.9rem;
    }
    .order-details-summary p { margin-bottom: 0.5rem;}
</style>

<main>
    <div class="container order-status-container">
        <div class="card status-failed">
            <div class="order-status-icon">
                <i class="fas fa-times-circle"></i>
            </div>
            <h1>Pembayaran Gagal</h1>
            <p class="text-medium"><%= locals.message || "Maaf, terjadi masalah dengan pembayaran Anda. Silakan coba lagi atau hubungi dukungan." %></p>

            <% if (locals.order) { %>
            <div class="order-details-summary">
                <p><strong><i class="fas fa-receipt"></i> Nomor Order:</strong> <%= order.merchantOrderId %></p>
                <p><strong><i class="fas fa-dollar-sign"></i> Total Pembayaran:</strong> Rp <%= order.totalAmount.toLocaleString('id-ID') %></p>
            </div>
            <% } %>

            <a href="/cart" class="btn btn-secondary mt-3"><i class="fas fa-shopping-cart"></i> Kembali ke Keranjang</a>
            <a href="/" class="btn btn-primary mt-3"><i class="fas fa-home"></i> Kembali ke Beranda</a>
        </div>
    </div>
</main>

<%- include('partials/footer') %>